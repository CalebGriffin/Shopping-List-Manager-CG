{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction HomeComponent_tr_21_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵelement(1, \"i\", 16);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 8)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵtemplate(5, HomeComponent_tr_21_span_5_Template, 2, 0, \"span\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"div\", 10)(8, \"div\", 11)(9, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function HomeComponent_tr_21_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.moveItem(item_r2.id, -1));\n    });\n    i0.ɵɵelement(10, \"i\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function HomeComponent_tr_21_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.moveItem(item_r2.id, 1));\n    });\n    i0.ɵɵelement(12, \"i\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 11)(14, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function HomeComponent_tr_21_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.toggleItemImportance(item_r2.id));\n    });\n    i0.ɵɵelement(15, \"i\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 11)(17, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function HomeComponent_tr_21_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.moveItemToPrevBought(item_r2.id));\n    });\n    i0.ɵɵelement(18, \"i\", 18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 11)(20, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function HomeComponent_tr_21_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.deleteItem(item_r2.id));\n    });\n    i0.ɵɵelement(21, \"i\", 20);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.amount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r2.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r2.isImportant);\n  }\n}\nfunction HomeComponent_tr_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 8)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function HomeComponent_tr_40_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const item_r10 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.deleteItem(item_r10.id));\n    });\n    i0.ɵɵelement(5, \"i\", 20);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r10 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r10.name);\n  }\n}\nexport class HomeComponent {\n  constructor(http, baseUrl) {\n    this.toBuyList = [];\n    this.prevBoughtList = [];\n    this.sortMode = SortMode.Alphabetical;\n    this.defaultItem = {\n      id: '00000000-0000-0000-0000-000000000000',\n      name: '',\n      amount: 1,\n      isImportant: false,\n      sortOrder: 0,\n      listType: 0,\n      currentSortMode: 0\n    };\n    this.newItem = {\n      ...this.defaultItem\n    };\n    this.http = http;\n    this.baseUrl = baseUrl;\n    this.refreshLists();\n  }\n  refreshLists() {\n    this.http.get(`${this.baseUrl}api/ShoppingList/ToBuy`).subscribe({\n      next: result => {\n        this.toBuyList = result;\n      },\n      error: error => console.error(error)\n    });\n    this.http.get(`${this.baseUrl}api/ShoppingList/PrevBought`).subscribe({\n      next: result => {\n        this.prevBoughtList = result;\n      },\n      error: error => console.error(error)\n    });\n  }\n  addItemToBuy() {\n    this.http.post(`${this.baseUrl}api/ShoppingList/AddItemToBuy`, this.newItem).subscribe({\n      next: result => {\n        this.newItem = {\n          ...this.defaultItem\n        };\n        this.refreshLists();\n      },\n      error: error => console.error(error)\n    });\n  }\n  deleteItem(id) {\n    this.http.delete(`${this.baseUrl}api/ShoppingList/DeleteItem/${id}`).subscribe({\n      next: () => this.refreshLists(),\n      error: error => console.error(error)\n    });\n  }\n  toggleItemImportance(id) {\n    this.http.post(`${this.baseUrl}api/ShoppingList/ToggleItemImportance/${id}`, null).subscribe({\n      next: () => this.refreshLists(),\n      error: error => console.error(error)\n    });\n  }\n  moveItemToPrevBought(id) {\n    this.http.post(`${this.baseUrl}api/ShoppingList/MoveItemToPrevBought/${id}`, null).subscribe({\n      next: () => this.refreshLists(),\n      error: error => console.error(error)\n    });\n  }\n  addItemFromPrevBought(id) {\n    this.http.post(`${this.baseUrl}api/ShoppingList/AddItemFromPrevBought/${id}`, null).subscribe({\n      next: () => this.refreshLists(),\n      error: error => console.error(error)\n    });\n  }\n  changeSortMode(newMode) {\n    this.sortMode = newMode;\n    this.http.post(`${this.baseUrl}api/ShoppingList/ChangeSortMode/${newMode}`, null).subscribe({\n      next: () => this.refreshLists(),\n      error: error => console.error(error)\n    });\n  }\n  moveItem(id, direction) {\n    // If the user manually changes the sort order of an item, we need to switch to custom sort mode\n    this.changeSortMode(SortMode.Custom);\n    this.http.post(`${this.baseUrl}api/ShoppingList/MoveItem/${id}/${direction}`, null).subscribe({\n      next: () => this.refreshLists(),\n      error: error => console.error(error)\n    });\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 41,\n  vars: 8,\n  consts: [[1, \"d-inline-flex\", \"gap-1\"], [\"type\", \"button\", 1, \"btn\", 3, \"click\"], [1, \"table\"], [\"class\", \"align-middle\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Item Name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"bi-plus-lg\"], [1, \"align-middle\"], [\"class\", \"badge text-bg-warning ms-2\", 4, \"ngIf\"], [\"role\", \"toolbar\", 1, \"btn-toolbar\"], [\"role\", \"group\", 1, \"btn-group\", \"me-1\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"bi-arrow-up\"], [1, \"bi-arrow-down\"], [1, \"btn\", \"btn-warning\", 3, \"click\"], [1, \"bi-asterisk\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"bi-check-lg\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"bi-trash-fill\"], [1, \"badge\", \"text-bg-warning\", \"ms-2\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Shopping List Manager\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"h3\");\n      i0.ɵɵtext(3, \"Items to Buy\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"h5\");\n      i0.ɵɵtext(5, \"Sort Mode:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"p\", 0)(7, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_7_listener() {\n        return ctx.changeSortMode(0);\n      });\n      i0.ɵɵtext(8, \"Alphabetical\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_9_listener() {\n        return ctx.changeSortMode(1);\n      });\n      i0.ɵɵtext(10, \"Custom\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"table\", 2)(12, \"thead\")(13, \"tr\")(14, \"th\");\n      i0.ɵɵtext(15, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Item Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"tbody\");\n      i0.ɵɵtemplate(21, HomeComponent_tr_21_Template, 22, 3, \"tr\", 3);\n      i0.ɵɵelementStart(22, \"tr\")(23, \"td\")(24, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_24_listener($event) {\n        return ctx.newItem.amount = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"td\")(26, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.newItem.name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"td\")(28, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_28_listener() {\n        return ctx.addItemToBuy();\n      });\n      i0.ɵɵelement(29, \"i\", 7);\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(30, \"h3\");\n      i0.ɵɵtext(31, \"Previously Bought Items\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"table\", 2)(33, \"thead\")(34, \"tr\")(35, \"th\");\n      i0.ɵɵtext(36, \"Item Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"th\");\n      i0.ɵɵtext(38, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(39, \"tbody\");\n      i0.ɵɵtemplate(40, HomeComponent_tr_40_Template, 6, 1, \"tr\", 3);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵclassProp(\"active\", ctx.sortMode === 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassProp(\"active\", ctx.sortMode === 1);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngForOf\", ctx.toBuyList);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.newItem.amount);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.newItem.name);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngForOf\", ctx.prevBoughtList);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.MinValidator, i3.NgModel],\n  encapsulation: 2\n});\nvar SortMode;\n(function (SortMode) {\n  SortMode[SortMode[\"Alphabetical\"] = 0] = \"Alphabetical\";\n  SortMode[SortMode[\"Custom\"] = 1] = \"Custom\";\n})(SortMode || (SortMode = {}));","map":{"version":3,"mappings":"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","names":["i0","HomeComponent","constructor","http","baseUrl","SortMode","Alphabetical","id","name","amount","isImportant","sortOrder","listType","currentSortMode","defaultItem","refreshLists","get","subscribe","next","result","toBuyList","error","console","prevBoughtList","addItemToBuy","post","newItem","deleteItem","delete","toggleItemImportance","moveItemToPrevBought","addItemFromPrevBought","changeSortMode","newMode","sortMode","moveItem","direction","Custom","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/calebgriffin/Documents/GitHub/Shopping-List-Manager-CG/ShoppingListManager/ShoppingListManager/ClientApp/src/app/home/home.component.html","/Users/calebgriffin/Documents/GitHub/Shopping-List-Manager-CG/ShoppingListManager/ShoppingListManager/ClientApp/src/app/home/home.component.ts"],"sourcesContent":["<h1>Shopping List Manager</h1>\n\n<h3>Items to Buy</h3>\n\n<h5>Sort Mode:</h5>\n\n<p class=\"d-inline-flex gap-1\">\n  <button type=\"button\" class=\"btn\" [class.active]=\"sortMode === 0\" (click)=\"changeSortMode(0)\">Alphabetical</button>\n  <button type=\"button\" class=\"btn\" [class.active]=\"sortMode === 1\" (click)=\"changeSortMode(1)\">Custom</button>\n</p>\n\n<table class=\"table\">\n  <thead>\n    <tr>\n      <th>Quantity</th>\n      <th>Item Name</th>\n      <th>Actions</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let item of toBuyList\" class=\"align-middle\">\n      <td>{{ item.amount }}</td>\n      <td>\n        {{ item.name }}\n        <span *ngIf=\"item.isImportant\" class=\"badge text-bg-warning ms-2\">\n          <i class=\"bi-asterisk\"></i>\n        </span>\n      </td>\n      <td>\n        <div class=\"btn-toolbar\" role=\"toolbar\">\n          <div class=\"btn-group me-1\" role=\"group\">\n            <button class=\"btn btn-secondary\" (click)=\"moveItem(item.id, -1)\"><i class=\"bi-arrow-up\"></i></button>\n            <button class=\"btn btn-secondary\" (click)=\"moveItem(item.id, 1)\"><i class=\"bi-arrow-down\"></i></button>\n          </div>\n          <div class=\"btn-group me-1\" role=\"group\">\n            <button class=\"btn btn-warning\" (click)=\"toggleItemImportance(item.id)\"><i class=\"bi-asterisk\"></i></button>\n          </div>\n          <div class=\"btn-group me-1\" role=\"group\">\n            <button class=\"btn btn-success\" (click)=\"moveItemToPrevBought(item.id)\"><i class=\"bi-check-lg\"></i></button>\n          </div>\n          <div class=\"btn-group me-1\" role=\"group\">\n            <button class=\"btn btn-danger\" (click)=\"deleteItem(item.id)\"><i class=\"bi-trash-fill\"></i></button>\n          </div>\n        </div>\n      </td>\n    </tr>\n    <tr>\n      <td><input type=\"number\" min=\"1\" class=\"form-control\" [(ngModel)]=\"newItem.amount\" /></td>\n      <td><input type=\"text\" class=\"form-control\" placeholder=\"Item Name\" [(ngModel)]=\"newItem.name\" /></td>\n      <td>\n        <button class=\"btn btn-primary\" (click)=\"addItemToBuy()\"><i class=\"bi-plus-lg\"></i></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<h3>Previously Bought Items</h3>\n\n<table class=\"table\">\n  <thead>\n    <tr>\n      <th>Item Name</th>\n      <th>Actions</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let item of prevBoughtList\" class=\"align-middle\">\n      <td>{{ item.name }}</td>\n      <td>\n          <button class=\"btn btn-danger\" (click)=\"deleteItem(item.id)\"><i class=\"bi-trash-fill\"></i></button>\n      </td>\n    </tr>\n  </tbody>\n</table>","import { Component, Inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n})\nexport class HomeComponent {\n  public toBuyList: Item[] = [];\n\n  public prevBoughtList: Item[] = [];\n\n  protected sortMode: SortMode = SortMode.Alphabetical;\n\n  private readonly defaultItem: Item = {\n    id: '00000000-0000-0000-0000-000000000000',\n    name: '',\n    amount: 1,\n    isImportant: false,\n    sortOrder: 0,\n    listType: 0,\n    currentSortMode: 0\n  };\n\n  protected newItem: Item = { ...this.defaultItem };\n\n  private http: HttpClient;\n\n  private baseUrl: string;\n\n  constructor(http: HttpClient, @Inject('BASE_URL') baseUrl: string) {\n    this.http = http;\n    this.baseUrl = baseUrl;\n    this.refreshLists();\n  }\n\n  refreshLists() {\n    this.http.get<Item[]>(`${this.baseUrl}api/ShoppingList/ToBuy`).subscribe({\n      next: (result) => {\n        this.toBuyList = result;\n      },\n      error: (error) => console.error(error)\n    });\n\n    this.http.get<Item[]>(`${this.baseUrl}api/ShoppingList/PrevBought`).subscribe({\n      next: (result) => {\n        this.prevBoughtList = result;\n      },\n      error: (error) => console.error(error)\n    });\n  }\n\n  addItemToBuy() {\n    this.http.post<Item>(`${this.baseUrl}api/ShoppingList/AddItemToBuy`, this.newItem).subscribe({\n      next: (result) => {\n        this.newItem = { ...this.defaultItem };\n        this.refreshLists();\n      },\n      error: (error) => console.error(error)\n    });\n  }\n\n  deleteItem(id: string) {\n    this.http.delete(`${this.baseUrl}api/ShoppingList/DeleteItem/${id}`).subscribe({\n      next: () => this.refreshLists(),\n      error: (error) => console.error(error)\n    });\n  }\n\n  toggleItemImportance(id: string) {\n    this.http.post(`${this.baseUrl}api/ShoppingList/ToggleItemImportance/${id}`, null).subscribe({\n      next: () => this.refreshLists(),\n      error: (error) => console.error(error)\n    });\n  }\n\n  moveItemToPrevBought(id: string) {\n    this.http.post(`${this.baseUrl}api/ShoppingList/MoveItemToPrevBought/${id}`, null).subscribe({\n      next: () => this.refreshLists(),\n      error: (error) => console.error(error)\n    });\n  }\n\n  addItemFromPrevBought(id: string) {\n    this.http.post(`${this.baseUrl}api/ShoppingList/AddItemFromPrevBought/${id}`, null).subscribe({\n      next: () => this.refreshLists(),\n      error: (error) => console.error(error)\n    });\n  }\n\n  changeSortMode(newMode: number) {\n    this.sortMode = newMode;\n\n    this.http.post(`${this.baseUrl}api/ShoppingList/ChangeSortMode/${newMode}`, null).subscribe({\n      next: () => this.refreshLists(),\n      error: (error) => console.error(error)\n    });\n  }\n\n  moveItem(id: string, direction: number) {\n    // If the user manually changes the sort order of an item, we need to switch to custom sort mode\n    this.changeSortMode(SortMode.Custom);\n\n    this.http.post(`${this.baseUrl}api/ShoppingList/MoveItem/${id}/${direction}`, null).subscribe({\n      next: () => this.refreshLists(),\n      error: (error) => console.error(error)\n    });\n  }\n}\n\nenum SortMode {\n  Alphabetical = 0,\n  Custom = 1\n}\n\ninterface Item {\n  id: string;\n  name: string;\n  amount: number;\n  isImportant: boolean;\n  sortOrder: number;\n  listType: number;\n  currentSortMode: number;\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}